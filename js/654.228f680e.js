"use strict";(self["webpackChunknodecourse_w5_front"]=self["webpackChunknodecourse_w5_front"]||[]).push([[654],{4654:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var o=s(3396),a=s(9242),r=s(7139);const n=(0,o._)("h1",{class:"header"},"張貼動態",-1),i={class:"mb-4"},l=(0,o._)("label",{for:"content",class:"form-label"},"貼文內容",-1),m={class:"mb-10"},c=(0,o._)("label",{for:"image",class:"form-label"},"圖片網址",-1),p={class:"text-center text-danger mb-6"},d=(0,o._)("div",{class:"text-center"},[(0,o._)("button",{type:"submit",class:"effectBtn btn btn-primary w-100"}," 送出貼文 ")],-1);function h(t,e,s,h,u,g){return(0,o.wg)(),(0,o.iD)(o.HY,null,[n,(0,o._)("form",{class:"card p-md-8",ref:"postForm",onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>g.createPost&&g.createPost(...t)),["prevent"]))},[(0,o._)("div",i,[l,(0,o.wy)((0,o._)("textarea",{id:"content",class:"form-control",rows:"5",cols:"50",placeholder:"輸入您的貼文內容","onUpdate:modelValue":e[0]||(e[0]=t=>u.tempPost.content=t)},null,512),[[a.nr,u.tempPost.content,void 0,{trim:!0}]])]),(0,o._)("div",m,[c,(0,o.wy)((0,o._)("input",{type:"text",id:"image",class:"form-control",placeholder:"輸入圖片網址","onUpdate:modelValue":e[1]||(e[1]=t=>u.tempPost.image=t)},null,512),[[a.nr,u.tempPost.image,void 0,{trim:!0}]])]),(0,o._)("p",p,(0,r.zw)(u.message),1),d],544)],64)}var u=s(7965),g={name:"CreatePostView",data(){return{tempPost:{user:"62981e2773de4afd453ed557",content:"",image:""},message:""}},methods:{createPost(){this.message="",""==this.tempPost.content?this.message="貼文內容不得為空":""===this.tempPost.image||(0,u.jv)(this.tempPost.image)?this.$http.post("https://lit-falls-87355.herokuapp.com/post",this.tempPost).then((()=>{this.$refs.postForm.reset(),this.$router.push("/"),this.$pushMessage({style:"dark",content:"新增貼文成功"}),this.$emitter.emit("toggle-loading",!1)})).catch((t=>{this.$pushMessage({style:"danger",content:t.response.data.message||"建立貼文失敗"}),this.$emitter.emit("toggle-loading",!1)})):this.message="請填寫正確圖片網址"}}},f=s(89);const _=(0,f.Z)(g,[["render",h]]);var b=_}}]);
//# sourceMappingURL=654.228f680e.js.map